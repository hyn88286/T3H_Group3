<div th:fragment="script">
    </script>
    <script th:src="@{/frontend/js/jquery.min.js}"></script>
    <script th:src="@{/frontend/js/theme-plugins.min.js}"></script>

    <script th:src="@{/frontend/js/site-custom.js}"></script>

    <script type="text/javascript" th:src="@{/frontend/revolution/js/jquery.themepunch.tools.min.js}"></script>
    <script type="text/javascript" th:src="@{/frontend/revolution/js/jquery.themepunch.revolution.min.js}"></script>

    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.actions.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.carousel.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.kenburn.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.layeranimation.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.migration.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.navigation.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.parallax.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.slideanims.min.js}"></script>
    <script type="text/javascript"
            th:src="@{/frontend/revolution/js/extensions/revolution.extension.video.min.js}"></script>
    <script type="text/javascript">
        var tpj = jQuery;
        var revapi26;
        tpj(document).ready(function () {
            if (tpj("#rev_slider_26_1").revolution == undefined) {
                revslider_showDoubleJqueryError("#rev_slider_26_1");
            } else {
                revapi26 = tpj("#rev_slider_26_1").show().revolution({
                    sliderType: "standard",
                    jsFileLocation: "revolution/js/",
                    sliderLayout: "fullscreen",
                    dottedOverlay: "none",
                    delay: 9000,
                    navigation: {
                        keyboardNavigation: "off",
                        keyboard_direction: "horizontal",
                        mouseScrollNavigation: "off",
                        mouseScrollReverse: "default",
                        onHoverStop: "off",
                        touch: {
                            touchenabled: "on",
                            touchOnDesktop: "off",
                            swipe_threshold: 75,
                            swipe_min_touches: 1,
                            swipe_direction: "horizontal",
                            drag_block_vertical: false
                        }
                        ,
                        arrows: {
                            style: "metis",
                            enable: true,
                            hide_onmobile: true,
                            hide_under: 778,
                            hide_onleave: false,
                            tmp: '',
                            left: {
                                h_align: "left",
                                v_align: "center",
                                h_offset: 15,
                                v_offset: 0
                            },
                            right: {
                                h_align: "right",
                                v_align: "center",
                                h_offset: 15,
                                v_offset: 0
                            }
                        }
                        ,
                        bullets: {
                            enable: true,
                            hide_onmobile: false,
                            style: "zeus",
                            hide_onleave: false,
                            direction: "horizontal",
                            h_align: "center",
                            v_align: "bottom",
                            h_offset: 0,
                            v_offset: 30,
                            space: 5,
                            tmp: ''
                        }
                    },
                    responsiveLevels: [1240, 1024, 778, 480],
                    visibilityLevels: [1240, 1024, 778, 480],
                    gridwidth: [1240, 1024, 778, 480],
                    gridheight: [868, 768, 960, 300],
                    lazyType: "none",
                    parallax: {
                        type: "scroll",
                        origo: "slidercenter",
                        speed: 2000,
                        levels: [5, 10, 15, 20, 25, 30, 35, 40, 45, 46, 47, 48, 49, 50, 51, 55],
                    },
                    shadow: 0,
                    spinner: "spinner0",
                    stopLoop: "off",
                    stopAfterLoops: -1,
                    stopAtSlide: -1,
                    shuffle: "off",
                    autoHeight: "on",
                    fullScreenAutoWidth: "off",
                    fullScreenAlignForce: "off",
                    fullScreenOffsetContainer: "",
                    fullScreenOffset: "0px",
                    hideThumbsOnMobile: "off",
                    hideSliderAtLimit: 0,
                    hideCaptionAtLimit: 0,
                    hideAllCaptionAtLilmit: 0,
                    debugMode: false,
                    fallbacks: {
                        simplifyAll: "off",
                        nextSlideOnWindowFocus: "off",
                        disableFocusListener: false,
                    }
                });
            }
        });	/*ready*/
    </script>
    <script>
        $('#shopping-bag').click(function () {
            initDataCart();
        })

        function initDataCart() {
            let page = 0;
            let size = 4;
            let objFilter = {};
            getProductCart(page, size, objFilter);
        }

        function formatPrice(amount) {
            return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function getProductCart(page, size, objectFilter) {
            $.ajax({
                type: "POST",
                url: "http://localhost:8080/api/cart?page=" + page + "&size=" + size,
                contentType: "application/json",
                data: JSON.stringify(objectFilter),
                dataType: "json",
                success: function (response) {
                    if (response.code === 400) {
                        window.location.href = "http://localhost:8080/login"
                    } else {
                        let cartData = response.data.content;
                        let cartHtml = '';
                        for (let i = 0; i < cartData.length; i++) {
                            let cartItem = cartData[i];

                            cartHtml += '<li>' +
                                '<img src="' + cartItem.imgProduct + '" alt>' +
                                '<div>' +
                                '<h4><a href="shop-single.html">' + cartItem.productName + '</a></h4>' +
                                '</div>' +
                                '<div class="delete-btn">' +
                                '<a href="#"><i class="icofont-close-line"></i></a>' +
                                '</div>' +
                                '</li>';

                            $('#cartItem').html(cartHtml);
                        }
                    }

                    console.log(response);
                },
                error: function (error) {
                    console.log(error);
                }
            })
        }
    </script>
</div>
